<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <title>Empeirikos.JS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link type="text/css" href="bootstrap.min.css" rel="stylesheet" />
    <link type="text/css" href="bootstrap-responsive.min.css" rel="stylesheet" />
	
	<style type="text/css">
		body {
			text-align:center;
		}
		
		#input {
			margin-top:50px;
			margin-bottom:75px;
			display:none;
		}
		
		#loading {
			margin-top:50px;
			margin-bottom:75px;
		}
		
		.separator {
			margin: 25px auto;
			background: #ccc;
			height: 1px;
			width: 15%;
		}
		
		.copyright
		{
			font-size:12px;
			color:#bbb;
		}
	</style>
</head>
<body>
	<div class="container">
	
		<div  class="row">
			<div class="span12">
				<a href="http://en.wikipedia.org/wiki/Markov_chain">Markov Chain</a>
				<a href="https://github.com/mrsharpoblunto/foswig.js/">Foswig</a>
			</div>
		</div>
		
		<div id="loading" class="row">
			 <div class="span12">
				<img src="ajax-loader.gif" alt="loading" />
			</div>
		</div>
		
		<div id="input" class="row">
			 <div class="span12">
				<form>
					<input id="generate" type="button" class="btn-large btn-primary" value="Generate project name" />
				</form>
			</div>
			<div class="span12">
			<h2 id="result" aria-live="assertive"></h2>
			</div>
		</div>

		<div class="share row">
			<div class="span12">
				<iframe src="http://ghbtns.com/github-btn.html?user=mrsharpoblunto&repo=foswig.js&type=watch&count=false"
			  allowtransparency="true" frameborder="0" scrolling="0" width="55" height="20"></iframe>
				<iframe src="http://ghbtns.com/github-btn.html?user=mrsharpoblunto&type=follow&count=true"
			  allowtransparency="true" frameborder="0" scrolling="0" width="175" height="20"></iframe>	
				<a href="https://twitter.com/mr_sharpoblunto" class="twitter-follow-button" data-show-count="false" data-lang="en">Follow @mr_sharpoblunto</a>
			</div>
		</div>
		
		<div class="copyright row">
			 <div class="span12">
				&copy; <a href="http://www.sharpoblunto.com">Glenn Conner</a> 2013.
			 </div>
		</div>
	</div>
	
	<script type="text/javascript" src="jquery-2.0.2.min.js"></script>
	<script type="text/javascript" src="bootstrap.min.js"></script>
    <script type="text/javascript">
        $(document).ready(function() {
			$("#generate").click(function() {
				worker.postMessage({messageType:"generate",minLength:5,maxLength:10});
			});
		
			var result = $("#result");
			var progress = $(".bar");
			
			var worker = new Worker("markov-builder.js");
			worker.addEventListener("message",function(evt) {
				if (evt.data.messageType==="loaded") {
					$("#loading").hide();
					$("#input").show();
				}
				else if (evt.data.messageType==="generate")
				{
					result.html(evt.data.word);
				}
			},false);
			worker.postMessage({messageType:"load"});
		});
    </script>
	
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
    </script>	
	
</body>
</html>